(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},874:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>bN});var d,e=c(1124),f=c(8301);function g(){}function h(a){return null==a?g:function(){return this.querySelector(a)}}function i(){return[]}function j(a){return null==a?i:function(){return this.querySelectorAll(a)}}function k(a){return function(){return this.matches(a)}}function l(a){return function(b){return b.matches(a)}}var m=Array.prototype.find;function n(){return this.firstElementChild}var o=Array.prototype.filter;function p(){return Array.from(this.children)}function q(a){return Array(a.length)}function r(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function s(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new r(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function t(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new r(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function u(a){return a.__data__}function v(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}r.prototype={constructor:r,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var w="http://www.w3.org/1999/xhtml";let x={svg:"http://www.w3.org/2000/svg",xhtml:w,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function y(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),x.hasOwnProperty(b)?{space:x[b],local:a}:a}function z(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function A(a,b){return a.style.getPropertyValue(b)||z(a).getComputedStyle(a,null).getPropertyValue(b)}function B(a){return a.trim().split(/^|\s+/)}function C(a){return a.classList||new D(a)}function D(a){this._node=a,this._names=B(a.getAttribute("class")||"")}function E(a,b){for(var c=C(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function F(a,b){for(var c=C(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function G(){this.textContent=""}function H(){this.innerHTML=""}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(a){var b=y(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===w&&b.documentElement.namespaceURI===w?b.createElement(a):b.createElementNS(c,a)}})(b)}function L(){return null}function M(){var a=this.parentNode;a&&a.removeChild(this)}function N(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function O(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function P(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function Q(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function R(a,b,c){var d=z(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}D.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var S=[null];function T(a,b){this._groups=a,this._parents=b}function U(){return new T([[document.documentElement]],S)}T.prototype=U.prototype={constructor:T,select:function(a){"function"!=typeof a&&(a=h(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,i=b[e],j=i.length,k=d[e]=Array(j),l=0;l<j;++l)(f=i[l])&&(g=a.call(f,f.__data__,l,i))&&("__data__"in f&&(g.__data__=f.__data__),k[l]=g);return new T(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=j(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],k=i.length,l=0;l<k;++l)(h=i[l])&&(e.push(a.call(h,h.__data__,l,i)),f.push(h));return new T(e,f)},selectChild:function(a){var b;return this.select(null==a?n:(b="function"==typeof a?a:l(a),function(){return m.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?p:(b="function"==typeof a?a:l(a),function(){return o.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=k(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new T(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,u);var c=b?t:s,d=this._parents,e=this._groups;"function"!=typeof a&&(v=a,a=function(){return v});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,v,w,x,y=0,z=0;y<o;++y)if(w=p[y]){for(y>=z&&(z=y+1);!(x=q[z])&&++z<o;);w._next=x||null}}return(g=new T(g,d))._enter=h,g._exit=i,g},enter:function(){return new T(this._enter||this._groups.map(q),this._parents)},exit:function(){return new T(this._exit||this._groups.map(q),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new T(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=v);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new T(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=y(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):A(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=B(a+"");if(arguments.length<2){for(var d=C(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?E:F)(this,a)}}:b?function(a){return function(){E(this,a)}}:function(a){return function(){F(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?G:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?H:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(I)},lower:function(){return this.each(J)},append:function(a){var b="function"==typeof a?a:K(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:K(a),d=null==b?L:"function"==typeof b?b:h(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(M)},clone:function(a){return this.select(a?O:N)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?Q:P;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return R(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return R(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};var V={value:()=>{}};function W(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new X(d)}function X(a){this._=a}function Y(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=V,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}X.prototype=W.prototype={constructor:X,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=Y(d[c],a.name,b);else if(null==b)for(c in d)d[c]=Y(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new X(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var Z,$,_=0,aa=0,ab=0,ac=0,ad=0,ae=0,af="object"==typeof performance&&performance.now?performance:Date,ag="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function ah(){return ad||(ag(ai),ad=af.now()+ae)}function ai(){ad=0}function aj(){this._call=this._time=this._next=null}function ak(a,b,c){var d=new aj;return d.restart(a,b,c),d}function al(){ad=(ac=af.now())+ae,_=aa=0;try{ah(),++_;for(var a,b=Z;b;)(a=ad-b._time)>=0&&b._call.call(void 0,a),b=b._next;--_}finally{_=0,function(){for(var a,b,c=Z,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:Z=b);$=a,an(d)}(),ad=0}}function am(){var a=af.now(),b=a-ac;b>1e3&&(ae-=b,ac=a)}function an(a){!_&&(aa&&(aa=clearTimeout(aa)),a-ad>24?(a<1/0&&(aa=setTimeout(al,a-af.now()-ae)),ab&&(ab=clearInterval(ab))):(ab||(ac=af.now(),ab=setInterval(am,1e3)),_=1,ag(al)))}function ao(a,b,c){var d=new aj;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}aj.prototype=ak.prototype={constructor:aj,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?ah():+c)+(null==b?0:+b),this._next||$===this||($?$._next=this:Z=this,$=this),this._call=a,this._time=c,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};var ap=W("start","end","cancel","interrupt"),aq=[];function ar(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return ao(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(ao(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=ak(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:ap,tween:aq,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function as(a,b){var c=au(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function at(a,b){var c=au(a,b);if(c.state>3)throw Error("too late; already running");return c}function au(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}function av(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}var aw=180/Math.PI,ax={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ay(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*aw,skewX:Math.atan(i)*aw,scaleX:g,scaleY:h}}function az(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:av(a,e)},{i:i-2,x:av(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:av(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:av(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:av(a,c)},{i:h-2,x:av(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var aA=az(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?ax:ay(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),aB=az(function(a){return null==a?ax:(d||(d=document.createElementNS("http://www.w3.org/2000/svg","g")),d.setAttribute("transform",a),a=d.transform.baseVal.consolidate())?ay((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):ax},", ",")",")");function aC(a,b,c){var d=a._id;return a.each(function(){var a=at(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return au(a,d).value[b]}}function aD(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function aE(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function aF(){}var aG="\\s*([+-]?\\d+)\\s*",aH="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",aI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aJ=/^#([0-9a-f]{3,8})$/,aK=RegExp(`^rgb\\(${aG},${aG},${aG}\\)$`),aL=RegExp(`^rgb\\(${aI},${aI},${aI}\\)$`),aM=RegExp(`^rgba\\(${aG},${aG},${aG},${aH}\\)$`),aN=RegExp(`^rgba\\(${aI},${aI},${aI},${aH}\\)$`),aO=RegExp(`^hsl\\(${aH},${aI},${aI}\\)$`),aP=RegExp(`^hsla\\(${aH},${aI},${aI},${aH}\\)$`),aQ={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function aR(){return this.rgb().formatHex()}function aS(){return this.rgb().formatRgb()}function aT(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=aJ.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?aU(b):3===c?new aX(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?aV(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?aV(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=aK.exec(a))?new aX(b[1],b[2],b[3],1):(b=aL.exec(a))?new aX(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=aM.exec(a))?aV(b[1],b[2],b[3],b[4]):(b=aN.exec(a))?aV(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=aO.exec(a))?a1(b[1],b[2]/100,b[3]/100,1):(b=aP.exec(a))?a1(b[1],b[2]/100,b[3]/100,b[4]):aQ.hasOwnProperty(a)?aU(aQ[a]):"transparent"===a?new aX(NaN,NaN,NaN,0):null}function aU(a){return new aX(a>>16&255,a>>8&255,255&a,1)}function aV(a,b,c,d){return d<=0&&(a=b=c=NaN),new aX(a,b,c,d)}function aW(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof aF||(e=aT(e)),e)?new aX((e=e.rgb()).r,e.g,e.b,e.opacity):new aX:new aX(a,b,c,null==d?1:d)}function aX(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function aY(){return`#${a0(this.r)}${a0(this.g)}${a0(this.b)}`}function aZ(){let a=a$(this.opacity);return`${1===a?"rgb(":"rgba("}${a_(this.r)}, ${a_(this.g)}, ${a_(this.b)}${1===a?")":`, ${a})`}`}function a$(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function a_(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function a0(a){return((a=a_(a))<16?"0":"")+a.toString(16)}function a1(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new a3(a,b,c,d)}function a2(a){if(a instanceof a3)return new a3(a.h,a.s,a.l,a.opacity);if(a instanceof aF||(a=aT(a)),!a)return new a3;if(a instanceof a3)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new a3(g,h,i,a.opacity)}function a3(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function a4(a){return(a=(a||0)%360)<0?a+360:a}function a5(a){return Math.max(0,Math.min(1,a||0))}function a6(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function a7(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}aD(aF,aT,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:aR,formatHex:aR,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return a2(this).formatHsl()},formatRgb:aS,toString:aS}),aD(aX,aW,aE(aF,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new aX(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new aX(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new aX(a_(this.r),a_(this.g),a_(this.b),a$(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aY,formatHex:aY,formatHex8:function(){return`#${a0(this.r)}${a0(this.g)}${a0(this.b)}${a0((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:aZ,toString:aZ})),aD(a3,function(a,b,c,d){return 1==arguments.length?a2(a):new a3(a,b,c,null==d?1:d)},aE(aF,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new a3(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new a3(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new aX(a6(a>=240?a-240:a+120,e,d),a6(a,e,d),a6(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new a3(a4(this.h),a5(this.s),a5(this.l),a$(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=a$(this.opacity);return`${1===a?"hsl(":"hsla("}${a4(this.h)}, ${100*a5(this.s)}%, ${100*a5(this.l)}%${1===a?")":`, ${a})`}`}}));let a8=a=>()=>a;function a9(a,b){var c=b-a;return c?function(b){return a+b*c}:a8(isNaN(a)?b:a)}let ba=function a(b){var c,d=1==(c=+b)?a9:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):a8(isNaN(a)?b:a)};function e(a,b){var c=d((a=aW(a)).r,(b=aW(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=a9(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function bb(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=aW(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}bb(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return a7((c-d/b)*b,g,e,f,h)}}),bb(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return a7((c-d/b)*b,e,f,g,h)}});var bc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bd=RegExp(bc.source,"g");function be(a,b){var c;return("number"==typeof b?av:b instanceof aT?ba:(c=aT(b))?(b=c,ba):function(a,b){var c,d,e,f,g,h=bc.lastIndex=bd.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=bc.exec(a))&&(f=bd.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:av(e,f)})),h=bd.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})})(a,b)}var bf=U.prototype.constructor;function bg(a){return function(){this.style.removeProperty(a)}}var bh=0;function bi(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var bj=U.prototype;bi.prototype=(function(a){return U().transition(a)}).prototype={constructor:bi,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=h(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var i,j,k=d[g],l=k.length,m=f[g]=Array(l),n=0;n<l;++n)(i=k[n])&&(j=a.call(i,i.__data__,n,k))&&("__data__"in i&&(j.__data__=i.__data__),m[n]=j,ar(m[n],b,c,n,m,au(i,c)));return new bi(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=j(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,k=d[h],l=k.length,m=0;m<l;++m)if(i=k[m]){for(var n,o=a.call(i,i.__data__,m,k),p=au(i,c),q=0,r=o.length;q<r;++q)(n=o[q])&&ar(n,b,c,q,o,p);f.push(o),g.push(i)}return new bi(f,g,b,c)},selectChild:bj.selectChild,selectChildren:bj.selectChildren,filter:function(a){"function"!=typeof a&&(a=k(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new bi(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new bi(g,this._parents,this._name,this._id)},selection:function(){return new bf(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++bh,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=au(g,b);ar(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new bi(d,this._parents,a,c)},call:bj.call,nodes:bj.nodes,node:bj.node,size:bj.size,empty:bj.empty,each:bj.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?au(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?as:at,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=y(a),d="transform"===c?aB:be;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,aC(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=y(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?aA:be;return null==b?this.styleTween(a,(d=a,function(){var a=A(this,d),b=(this.style.removeProperty(d),A(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,bg(a)):"function"==typeof b?this.styleTween(a,(h=a,i=aC(this,"style."+a,b),function(){var a=A(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=A(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=at(this,m),b=a.on,c=null==a.value[s]?r||(r=bg(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=A(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=aC(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=au(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=at(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=at(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){as(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){as(this,a).delay=b}})(b,a)):au(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){at(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){at(this,a).duration=b}})(b,a)):au(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){at(this,a).ease=b}}(b,a)):au(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();at(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=at(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:bj[Symbol.iterator]};var bk={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};U.prototype.interrupt=function(a){return this.each(function(){!function(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}(this,a)})},U.prototype.transition=function(a){var b,c;a instanceof bi?(b=a._id,a=a._name):(b=++bh,(c=bk).time=ah(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&ar(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new bi(d,this._parents,a,b)};let{abs:bl,max:bm,min:bn}=Math;function bo(a){return{type:a}}function bp(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;--d>=0;)b+=c[d].value;else b=1;a.value=b}function bq(a,b){a instanceof Map?(a=[void 0,a],void 0===b&&(b=bs)):void 0===b&&(b=br);for(var c,d,e,f,g,h=new bv(a),i=[h];c=i.pop();)if((e=b(c.data))&&(g=(e=Array.from(e)).length))for(c.children=e,f=g-1;f>=0;--f)i.push(d=e[f]=new bv(e[f])),d.parent=c,d.depth=c.depth+1;return h.eachBefore(bu)}function br(a){return a.children}function bs(a){return Array.isArray(a)?a[1]:null}function bt(a){void 0!==a.data.value&&(a.value=a.data.value),a.data=a.data.data}function bu(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function bv(a){this.data=a,this.depth=this.height=0,this.parent=null}function bw(a){return"string"==typeof a?new T([[document.querySelector(a)]],[document.documentElement]):new T([[a]],S)}["w","e"].map(bo),["n","s"].map(bo),["n","w","e","s","nw","ne","sw","se"].map(bo),bv.prototype=bq.prototype={constructor:bv,count:function(){return this.eachAfter(bp)},each:function(a,b){let c=-1;for(let d of this)a.call(b,d,++c,this);return this},eachAfter:function(a,b){for(var c,d,e,f=this,g=[f],h=[],i=-1;f=g.pop();)if(h.push(f),c=f.children)for(d=0,e=c.length;d<e;++d)g.push(c[d]);for(;f=h.pop();)a.call(b,f,++i,this);return this},eachBefore:function(a,b){for(var c,d,e=this,f=[e],g=-1;e=f.pop();)if(a.call(b,e,++g,this),c=e.children)for(d=c.length-1;d>=0;--d)f.push(c[d]);return this},find:function(a,b){let c=-1;for(let d of this)if(a.call(b,d,++c,this))return d},sum:function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;--e>=0;)c+=d[e].value;b.value=c})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(a){for(var b=this,c=function(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}(b,a),d=[b];b!==c;)d.push(b=b.parent);for(var e=d.length;a!==c;)d.splice(e,0,a),a=a.parent;return d},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){return Array.from(this)},leaves:function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},links:function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b},copy:function(){return bq(this).eachBefore(bt)},[Symbol.iterator]:function*(){var a,b,c,d,e=this,f=[e];do for(a=f.reverse(),f=[];e=a.pop();)if(yield e,b=e.children)for(c=0,d=b.length;c<d;++c)f.push(b[c]);while(f.length)}};var bx=Array.prototype.slice;function by(a){return function(){return a}}class bz{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function bA(a){return new bz(a,!1)}let bB=Math.PI,bC=2*bB,bD=bC-1e-6;function bE(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class bF{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?bE:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return bE;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((bB-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%bC+bC),l>bD?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=bB)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function bG(a){return a[0]}function bH(a){return a[1]}function bI(a){return a.source}function bJ(a){return a.target}function bK(){return function(a){let b,c=bI,d=bJ,e=bG,f=bH,g=null,h=null,i=(b=3,j.digits=function(a){if(!arguments.length)return b;if(null==a)b=null;else{let c=Math.floor(a);if(!(c>=0))throw RangeError(`invalid digits: ${a}`);b=c}return j},()=>new bF(b));function j(){let b,j=bx.call(arguments),k=c.apply(this,j),l=d.apply(this,j);if(null==g&&(h=a(b=i())),h.lineStart(),j[0]=k,h.point(+e.apply(this,j),+f.apply(this,j)),j[0]=l,h.point(+e.apply(this,j),+f.apply(this,j)),h.lineEnd(),b)return h=null,b+""||null}return j.source=function(a){return arguments.length?(c=a,j):c},j.target=function(a){return arguments.length?(d=a,j):d},j.x=function(a){return arguments.length?(e="function"==typeof a?a:by(+a),j):e},j.y=function(a){return arguments.length?(f="function"==typeof a?a:by(+a),j):f},j.context=function(b){return arguments.length?(null==b?g=h=null:h=a(g=b),j):g},j}(bA)}function bL(a,b,c){this.k=a,this.x=b,this.y=c}bF.prototype,bL.prototype={constructor:bL,scale:function(a){return 1===a?this:new bL(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new bL(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new bL(1,0,0);bL.prototype;let bM=(0,f.forwardRef)(function({data:a,onSelect:b,presets:c},d){let g=(0,f.useRef)(null),h=(0,f.useRef)(null);return(0,f.useEffect)(()=>{if(!a||!g.current)return;let d=g.current;d.innerHTML="",d.clientWidth;let e=bq(Array.isArray(a)?function(a){let b=new Map(a.map(a=>[a.id,{...a,children:[]}])),c=[];for(let d of a){let a=b.get(d.id),e=d.padres||[];if(e&&0!==e.length){let d=!1;for(let c of e){let e=b.get(c);if(e){e.children.push(a),d=!0;break}}d||c.push(a)}else c.push(a)}return 1===c.length?c[0]:{id:"root",nombre:"Ra\xedz",children:c}}(a):a);e.each(a=>{a.y=140*a.depth});let f=0;!function a(b){b.children&&0!==b.children.length?(b.children.forEach(b=>a(b)),b.x=b.children.reduce((a,b)=>a+b.x,0)/b.children.length):(b.x=f,f+=120)}(e);let i=new Map;function j(a,b){a.x+=b,a.children&&a.children.forEach(a=>j(a,b))}e.descendants().forEach(a=>{let b=i.get(a.depth)||[];b.push(a),i.set(a.depth,b)}),Array.from(i.keys()).sort((a,b)=>a-b).forEach(a=>{let b=i.get(a)||[];b.sort((a,b)=>a.x-b.x);for(let a=1;a<b.length;a++){let c=b[a-1],d=b[a],e=c.x+120;if(d.x<e){let c=e-d.x;j(d,c);for(let d=a+1;d<b.length;d++)j(b[d],c)}}});let k=e.descendants().map(a=>a.x),l=Math.min(...k),m=Math.max(800,Math.max(...k)-l+240),n=bw(K("svg").call(document.documentElement)).attr("viewBox",[l-120,-80,m,Math.max(400,24*e.height+160)]).attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").style("width","100%").style("height","auto").attr("role","img").attr("aria-label","\xc1rbol geneal\xf3gico");h.current=n.node();let o=n.append("g"),p=new Map(e.descendants().map(a=>[a.data.id,a]));o.append("g").selectAll("path").data(e.links()).join("path").attr("d",a=>bK().x(a=>a.x).y(a=>a.y)(a)).attr("fill","none").attr("stroke","#9CA3AF").attr("stroke-width",1.2);let q=[];e.descendants().forEach(a=>{for(let b of(a.data.id,a.data.padres||[])){let c=p.get(b);c&&c!==a.parent&&q.push({source:c,target:a})}}),o.append("g").selectAll("path.extra").data(q).join("path").attr("class","extra").attr("d",a=>bK().x(a=>a.x).y(a=>a.y)(a)).attr("fill","none").attr("stroke","#6b7280").attr("stroke-width",1).attr("stroke-dasharray","4 4");let r=e.descendants().filter(a=>!(a.data&&"root"===a.data.id)),s=o.append("g").selectAll("g").data(r).join("g").attr("transform",a=>`translate(${a.x},${a.y})`);s.each(function(a){let b=bw(this),d=a.data&&a.data.avatar?a.data.avatar:null;if(!d&&c){let b=c[function(a){let b=(a||"").toString().trim().toLowerCase();return"m"===b||"masculino"===b?"M":"f"===b||"femenino"===b?"F":"Otro"}(a.data&&a.data.genero?a.data.genero:null)]||c.Otro||[];b&&b.length&&(d=b[String(a.data.id).split("").reduce((a,b)=>a+b.charCodeAt(0),0)%b.length])}if(d){let c=`clip-${String(a.data.id).replace(/[^a-zA-Z0-9_-]/g,"")}`;b.append("defs").append("clipPath").attr("id",c).append("circle").attr("r",18).attr("cx",0).attr("cy",0);let e=String(d).startsWith("http")?String(d):`${window.location.protocol}//${window.location.host}${String(d)}`;b.append("image").attr("href",e).attr("xlink:href",e).attr("x",-18).attr("y",-18).attr("width",36).attr("height",36).attr("clip-path",`url(#${c})`).style("cursor","pointer")}else b.append("circle").attr("r",18).attr("fill","#fff").attr("stroke","#2563eb");b.append("text").attr("dy","0.35em").attr("x",26).text(a=>a.data.nombre||a.data.id)}),s.style("cursor","pointer").on("click",(a,c)=>{b&&b(c.data)}),d.appendChild(n.node())},[a]),(0,f.useImperativeHandle)(d,()=>({getSVG:()=>h.current})),(0,e.jsx)("div",{ref:g,className:"w-full"})});function bN(){let[a,b]=(0,f.useState)(null),[c,d]=(0,f.useState)(null),[g,h]=(0,f.useState)(null),[i,j]=(0,f.useState)(!1),[k,l]=(0,f.useState)([{id:"1",nombre:"Juan P\xe9rez",fecha_nacimiento:"1980-05-15",genero:"M",padres:[]},{id:"2",nombre:"Mar\xeda Garc\xeda",fecha_nacimiento:"1985-08-22",genero:"F",padres:[]},{id:"3",nombre:"Carlos P\xe9rez",fecha_nacimiento:"2010-03-10",genero:"M",padres:["1","2"]}]),m=(0,f.useRef)(null),[n,o]=(0,f.useState)(null),p="http://localhost:8000";async function q(){if(!a)return;let b=new FormData;b.append("file",a);let c=await fetch(`${p}/parse`,{method:"POST",body:b}),e=await c.json();d(e),h(e.errores&&e.errores.length?e.errores.join("\n"):null),e.personas&&l(e.personas)}async function r(){try{let a=await fetch(`${p}/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!a.ok){let b=await a.text();h(`Error del servidor: ${a.status} ${a.statusText} - ${b}`);return}let b=await a.json();d(b),h(b.errores&&b.errores.length?b.errores.join("\n"):null)}catch(a){h("Error de red: "+(a.message||String(a)))}}function s(a,b,c){let d=k.slice();if("fecha_nacimiento"===b&&"string"==typeof c){let e=function(a){if(!a)return"";if(a=a.trim(),/^\d{4}-\d{2}-\d{2}$/.test(a))return a;let b=/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/.exec(a);if(b){let a=b[1].padStart(2,"0"),c=b[2].padStart(2,"0"),d=b[3];return 2===d.length&&(d="19"+d),`${d}-${c}-${a}`}let c=new Date(a);if(!isNaN(c.getTime())){let a=c.getFullYear(),b=String(c.getMonth()+1).padStart(2,"0"),d=String(c.getDate()).padStart(2,"0");return`${a}-${b}-${d}`}return""}(c);d[a][b]=e||c}else d[a][b]=c;l(d)}async function t(){let a=m.current?.getSVG();if(!a)return alert("No hay \xe1rbol para exportar");let b=new XMLSerializer().serializeToString(a),c=new Image,d=new Blob([b],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(d);await new Promise((a,b)=>{c.onload=()=>a(),c.onerror=()=>b(),c.src=e});let f=document.createElement("canvas");f.width=c.width||1200,f.height=c.height||800;let g=f.getContext("2d");g.fillStyle="#ffffff",g.fillRect(0,0,f.width,f.height),g.drawImage(c,0,0),f.toBlob(a=>{if(!a)return;let b=document.createElement("a");b.href=URL.createObjectURL(a),b.download="arbol.png",b.click(),URL.revokeObjectURL(b.href)}),URL.revokeObjectURL(e)}let u={M:["/presets/m1.svg","/presets/m2.svg","/presets/m3.svg","/presets/m4.svg","/presets/m5.svg"],F:["/presets/f1.svg","/presets/f2.svg","/presets/f3.svg","/presets/f4.svg","/presets/f5.svg"],Otro:["/presets/o1.png","/presets/o2.png","/presets/o3.png","/presets/o4.png","/presets/o5.png"]};function v(a){return a?String(a).startsWith("http")?String(a):`${window.location.protocol}//${window.location.host}${String(a)}`:a}async function w(){if(!(await fetch(`${p}/save_personas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok)return void alert("Error guardando personas");alert("Guardado OK")}let x=!!(c&&c.personas);return(0,e.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"white",padding:"32px",color:"#374151"},children:[(0,e.jsx)("h1",{style:{fontSize:"30px",fontWeight:"600"},children:"Genealog\xeda Din\xe1mica"}),(0,e.jsx)("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Interfaz en espa\xf1ol â€” sube un archivo Excel/CSV/JSON o edita manualmente."}),(0,e.jsxs)("div",{style:{marginTop:"24px",display:"flex",gap:8,alignItems:"center"},children:[(0,e.jsx)("input",{type:"file",onChange:a=>b(a.target.files?.[0]||null)}),(0,e.jsx)("button",{onClick:q,style:{padding:"8px 16px",backgroundColor:"#2563eb",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Subir y analizar"}),(0,e.jsx)("span",{style:{marginLeft:8,color:"#6b7280"},children:"|"}),(0,e.jsx)("button",{onClick:()=>j(a=>!a),style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:i?"Cerrar edici\xf3n manual":"Editar manualmente"}),i&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:function(){let a=(k.length+1).toString();l([...k,{id:a,nombre:`Persona ${a}`,fecha_nacimiento:"",genero:"",padres:[]}])},style:{padding:"8px 16px",backgroundColor:"#6b7280",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"A\xf1adir persona"}),(0,e.jsx)("button",{onClick:r,style:{padding:"8px 16px",backgroundColor:"#0ea5e9",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Validar"}),(0,e.jsx)("button",{onClick:w,style:{padding:"8px 16px",backgroundColor:"#0f766e",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Guardar"}),(0,e.jsx)("button",{onClick:function(){let a=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="personas.json",c.click(),URL.revokeObjectURL(b)},style:{padding:"8px 16px",backgroundColor:"#111827",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Exportar JSON"}),(0,e.jsx)("button",{onClick:function(){let a=["id,nombre,fecha_nacimiento,genero,padres"];k.forEach(b=>{let c=(b.padres||[]).join(";");a.push([b.id,b.nombre,b.fecha_nacimiento||"",b.genero||"",c].map(a=>`"${(a||"").toString().replace(/"/g,'""')}"`).join(","))});let b=new Blob([a.join("\n")],{type:"text/csv"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="personas.csv",d.click(),URL.revokeObjectURL(c)},style:{padding:"8px 16px",backgroundColor:"#374151",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Exportar CSV"})]})]}),g&&(0,e.jsx)("pre",{style:{marginTop:"16px",color:"#dc2626"},children:g}),i&&(0,e.jsxs)("div",{style:{marginTop:24},children:[(0,e.jsx)("h2",{style:{fontSize:20,fontWeight:500},children:"Edici\xf3n manual"}),(0,e.jsx)("div",{style:{overflowX:"auto",marginTop:12},children:(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,e.jsx)("thead",{children:(0,e.jsx)("tr",{children:["ID","Nombre","Fecha nacimiento","G\xe9nero","Padres (IDs separados por ;)","Acciones"].map(a=>(0,e.jsx)("th",{style:{borderBottom:"1px solid #e5e7eb",textAlign:"left",padding:8,fontWeight:600},children:a},a))})}),(0,e.jsx)("tbody",{children:k.map((a,b)=>(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{style:{padding:8},children:(0,e.jsx)("input",{value:a.id,onChange:a=>s(b,"id",a.target.value),style:{width:"100%"}})}),(0,e.jsx)("td",{style:{padding:8},children:(0,e.jsx)("input",{value:a.nombre,onChange:a=>s(b,"nombre",a.target.value),style:{width:"100%"}})}),(0,e.jsxs)("td",{style:{padding:8},children:[(0,e.jsx)("input",{type:"date",value:a.fecha_nacimiento||"",onChange:a=>s(b,"fecha_nacimiento",a.target.value),style:{width:"100%"},placeholder:"YYYY-MM-DD"}),(0,e.jsx)("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:"Tambi\xe9n puedes escribir una fecha (ej. 31/12/1980) y el sistema la parsear\xe1."})]}),(0,e.jsx)("td",{style:{padding:8},children:(0,e.jsxs)("select",{value:a.genero||"",onChange:a=>s(b,"genero",a.target.value),style:{width:"100%"},children:[(0,e.jsx)("option",{value:"",children:"â€”"}),(0,e.jsx)("option",{value:"M",children:"Masculino"}),(0,e.jsx)("option",{value:"F",children:"Femenino"}),(0,e.jsx)("option",{value:"Otro",children:"Otro"})]})}),(0,e.jsx)("td",{style:{padding:8},children:(0,e.jsx)("input",{value:(a.padres||[]).join(";"),onChange:a=>s(b,"padres",a.target.value.split(";").map(a=>a.trim()).filter(Boolean)),style:{width:"100%"},placeholder:"1;2"})}),(0,e.jsx)("td",{style:{padding:8},children:(0,e.jsx)("button",{onClick:()=>(function(a){let b=k.slice();b.splice(a,1),l(b)})(b),style:{padding:"6px 10px",background:"#ef4444",color:"white",border:"none",borderRadius:4,cursor:"pointer"},children:"Eliminar"})})]},b))})]})}),g&&(0,e.jsx)("pre",{style:{marginTop:12,color:"#dc2626"},children:g})]}),x&&!i&&(0,e.jsxs)("div",{style:{marginTop:24},children:[(0,e.jsx)("h2",{style:{fontSize:20,fontWeight:500},children:"Personas"}),(0,e.jsx)("pre",{style:{backgroundColor:"#f3f4f6",padding:16,borderRadius:4,marginTop:8},children:JSON.stringify(c.personas,null,2)})]}),(0,e.jsxs)("div",{style:{marginTop:24},children:[(0,e.jsx)("h2",{style:{fontSize:20,fontWeight:500},children:"Visualizaci\xf3n"}),(0,e.jsx)("p",{style:{color:"#6b7280",marginTop:8},children:"El \xe1rbol se genera desde las filas actuales (editor o archivo subido)."}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("button",{onClick:function(){let a=m.current?.getSVG();if(!a)return alert("No hay \xe1rbol para exportar");let b=new Blob([new XMLSerializer().serializeToString(a)],{type:"image/svg+xml"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="arbol.svg",d.click(),URL.revokeObjectURL(c)},style:{padding:"8px 12px",marginRight:8,background:"#111827",color:"white",border:"none",borderRadius:4},children:"Exportar SVG"}),(0,e.jsx)("button",{onClick:t,style:{padding:"8px 12px",marginRight:8,background:"#111827",color:"white",border:"none",borderRadius:4},children:"Exportar PNG"})]}),(0,e.jsxs)("div",{style:{display:"flex",gap:12,marginTop:12},children:[(0,e.jsx)("div",{style:{flex:1,border:"1px solid #e5e7eb",padding:12},children:(0,e.jsx)(bM,{ref:m,data:k,onSelect:function(a){o(a)},presets:u})}),(0,e.jsxs)("div",{style:{width:320,border:"1px solid #e5e7eb",padding:12},children:[(0,e.jsx)("h3",{style:{marginTop:0},children:"Detalle"}),n?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,e.jsx)("div",{style:{width:72,height:72,borderRadius:999,overflow:"hidden",background:"#f3f4f6"},children:n.avatar?(0,e.jsx)("img",{src:n.avatar,onError:a=>{let b=a.currentTarget;b.onerror=null,b.src=v("/presets/m1.svg")},style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,e.jsx)("div",{style:{padding:12,color:"#9ca3af"},children:"Sin foto"})}),(0,e.jsxs)("div",{style:{flex:1},children:[(0,e.jsx)("div",{style:{fontWeight:600},children:n.nombre}),(0,e.jsx)("div",{style:{fontSize:12,color:"#6b7280"},children:n.fecha_nacimiento||"Fecha no definida"})]})]}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("label",{style:{display:"block",fontSize:12},children:"Subir avatar"}),(0,e.jsx)("input",{type:"file",accept:"image/*",onChange:a=>(function(a){if(!a||!n)return;let b=new FormData;b.append("file",a),fetch(`${p}/upload_avatar/${n.id}`,{method:"POST",body:b}).then(async a=>{if(!a.ok){let b=await a.text().catch(()=>String(a.statusText));throw Error(`HTTP ${a.status}: ${b}`)}return a.json()}).then(a=>{let b=a&&a.url?a.url:null;if(b){let a=k.findIndex(a=>a.id===n.id);if(a>=0){let c=k.slice(),d=String(b).startsWith("http")?String(b):`${p}${b}`;c[a].avatar=d,l(c),o(c[a])}}}).catch(a=>alert("Error subiendo avatar: "+(a&&a.message?a.message:String(a))))})(a.target.files?.[0]||null)})]}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("label",{style:{display:"block",fontSize:12},children:"O elegir avatar preestablecido"}),(0,e.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8},children:(n&&(u[function(a){let b=(a||"").toString().trim().toLowerCase();return"m"===b||"masculino"===b?"M":"f"===b||"femenino"===b?"F":"Otro"}(n.genero)]||u.Otro)).map(a=>(0,e.jsx)("img",{src:v(a),style:{width:48,height:48,borderRadius:999,objectFit:"cover",cursor:"pointer",border:"2px solid transparent"},onClick:()=>(function(a){if(!n)return;let b=k.findIndex(a=>a.id===n.id);if(b<0)return;let c=k.slice();c[b].avatar=`${window.location.protocol}//${window.location.host}${a}`,l(c),o(c[b])})(a),onError:b=>{let c=b.currentTarget;c.onerror=null,c.src=v("/presets/m1.svg"),console.warn("Error cargando preset",a)}},a))})]}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("label",{style:{display:"block",fontSize:12},children:"Editar nombre"}),(0,e.jsx)("input",{value:n.nombre,onChange:a=>{let b=k.findIndex(a=>a.id===n.id);b>=0&&(s(b,"nombre",a.target.value),o({...k[b],nombre:a.target.value}))},style:{width:"100%"}})]}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("label",{style:{display:"block",fontSize:12},children:"Fecha nacimiento"}),(0,e.jsx)("input",{type:"date",value:n.fecha_nacimiento||"",onChange:a=>{let b=k.findIndex(a=>a.id===n.id);b>=0&&(s(b,"fecha_nacimiento",a.target.value),o({...k[b],fecha_nacimiento:a.target.value}))}})]}),(0,e.jsxs)("div",{style:{marginTop:12},children:[(0,e.jsx)("label",{style:{display:"block",fontSize:12},children:"Padres (IDs ; separados)"}),(0,e.jsx)("input",{value:(n.padres||[]).join(";"),onChange:a=>{let b=a.target.value.split(";").map(a=>a.trim()).filter(Boolean),c=k.findIndex(a=>a.id===n.id);c>=0&&(s(c,"padres",b),o({...k[c],padres:b}))},style:{width:"100%"}})]})]}):(0,e.jsx)("div",{style:{color:"#6b7280"},children:"Selecciona un nodo para ver/editar detalles"})]})]})]})]})}},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1234:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4160,23)),Promise.resolve().then(c.t.bind(c,1603,23)),Promise.resolve().then(c.t.bind(c,8495,23)),Promise.resolve().then(c.t.bind(c,5170,23)),Promise.resolve().then(c.t.bind(c,7526,23)),Promise.resolve().then(c.t.bind(c,8922,23)),Promise.resolve().then(c.t.bind(c,9234,23)),Promise.resolve().then(c.t.bind(c,2263,23)),Promise.resolve().then(c.bind(c,2146))},2568:()=>{},2704:()=>{},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5649:(a,b,c)=>{Promise.resolve().then(c.bind(c,7742))},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f,metadata:()=>e});var d=c(5338);c(4515),c(2704);let e={title:"Genealog\xeda Din\xe1mica",description:"Editor y visualizador de \xe1rboles geneal\xf3gicos"};function f({children:a}){return(0,d.jsx)("html",{lang:"es",children:(0,d.jsx)("body",{children:a})})}},7742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Mis aplicaciones\\\\genealogia\\\\frontend\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Mis aplicaciones\\genealogia\\frontend\\app\\page.tsx","default")},8186:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,1170,23)),Promise.resolve().then(c.t.bind(c,3597,23)),Promise.resolve().then(c.t.bind(c,6893,23)),Promise.resolve().then(c.t.bind(c,9748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,9576,23)),Promise.resolve().then(c.t.bind(c,3041,23)),Promise.resolve().then(c.t.bind(c,1384,23))},8248:()=>{},8354:a=>{"use strict";a.exports=require("util")},8704:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(12),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7742)),"D:\\Mis aplicaciones\\genealogia\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,6953)),"D:\\Mis aplicaciones\\genealogia\\frontend\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["D:\\Mis aplicaciones\\genealogia\\frontend\\app\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(9902).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},8801:(a,b,c)=>{Promise.resolve().then(c.bind(c,874))},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9902:a=>{"use strict";a.exports=require("path")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[778],()=>b(b.s=8704));module.exports=c})();